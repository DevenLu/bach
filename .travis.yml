sudo: false
dist: trusty
language: java

# https://github.com/travis-ci/travis-ci/issues/8408
before_install:
  - unset _JAVA_OPTIONS

matrix:
  include:
    - env: CURLED='install-jdk.sh'
      install: curl -s https://raw.githubusercontent.com/sormuras/bach/master/install-jdk.sh | bash -- -F 11 -L GPL
    - env: JDK_RELEASE='Oracle JDK 10'
      install: . ./install-jdk.sh -F 10 -L BCL
    - env: JDK_RELEASE='OpenJDK 10'
      install: . ./install-jdk.sh -F 10 -L GPL
    - env: JDK_RELEASE='Oracle JDK 11'
      install: . ./install-jdk.sh -F 11 -L BCL
    - env: JDK_RELEASE='OpenJDK 11'
      install: . ./install-jdk.sh -F 11 -L GPL

script:
- java --version
- ./build.jsh
